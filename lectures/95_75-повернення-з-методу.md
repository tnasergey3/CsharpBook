---
layout: default
title: "7.5 Повернення з методу"
---

# 7.5 Повернення з методу

В цілому, повернення з методу може статися за двох умов. По-перше, коли зустрічається фігурна дужка, що закриває тіло методу, як показує приклад методу AreaPerPerson() з наведеної вище програми. І по-друге, коли виконується оператор return . Існують дві форми оператора return : одна — для методів типу void , тобто тих методів, які не повертають значень, а інша — для методів, що повертають конкретні значення. Перша форма розглядається в цьому розділі, а в наступному розділі буде пояснено, яким чином значення повертаються з методів. Для негайного завершення методу типу void достатньо скористатися наступною формою оператора return.

Коли виконується цей оператор, управління повертається викликаючій частині програми, а залишений у методі код пропускається. Як приклад розглянемо наступний метод.

Лістинг 7.9 - приклад методу с оператором return

public void MyMeth() {
    int i;
    for(i=0; i<10; i++) {
        if(i == 5) return; // перервати на кроці 5
        Console.WriteLine();
    }
}

У даному прикладі виконується лише 5 повноцінних кроків циклу for, оскільки при значенні 5 змінної i відбувається повернення з методу.

У методі допускається наявність кількох операторів return, особливо якщо є два або більше варіантів повернення з нього. Наприклад:

Лістинг 7.10 - Приклад методу з декількома операторами return

public void MyMeth() {
//...
    if(done) return;
// ...
    if(error) return;
}

У цьому прикладі повернення з методу відбувається у двох випадках: якщо метод завершує свою роботу або виникає помилка. Але користуватися таким прийомом програмування слід дуже обережно. Адже через занадто велику кількість точок повернення з методу може порушитися структура коду.

Отже, нагадаємо ще раз: повернення з методу типу void може статися при двох умовах: при досягненні закриваючої фігурної дужки або при виконанні оператора return.

Методи з поверненням типу void часто застосовуються в програмуванні, проте більшість методів повертає конкретне значення. Насправді, здатність повертати значення є однією з найкорисніших властивостей методу.

Повернення значення вже було продемонстровано в розділі 3 на прикладі методу Math.Sqrt() , який використовувався для отримання квадратного кореня.

Повернуті значення використовуються в програмуванні з різними цілями. У деяких випадках, як у прикладі методу Math.Sqrt() , повернене значення містить результат обчислення, в інших - воно може просто вказувати на успішне або невдале завершення методу, а в третіх - містити код стану. Але незалежно від переслідуваної мети використання повернених значень є невід'ємною частиною програмування на С#.

Для повернення значення з методу до викликаючої частини програми використовується наступна форма оператора return:

return значення ;

дезначення— це конкретне повернене значення.

Використовуючи повернене значення, можна покращити розглянутий раніше метод AreaPerPerson() . Замість того, щоб виводити величину площі на одну людину, краще повернути її з цього методу. Серед інших переваг такого підходу слід особливо відзначити можливість використовувати повернене значення для виконання інших обчислень. Наведений нижче приклад представляє покращений варіант розглянутої раніше програми з покращеним методом AreaPerPerson() , що повертає величину площі на одну людину замість того, щоб виводити її.

Лістинг 7.11 Приклад повернення значення з методу AreaPerPerson()

using System;
class Building {
    public int Floors; // кількість поверхів
    public int Area; // загальна площа будівлі
    public int Occupants; // кількість мешканців
// Повернути величину площі на одну особу,
    public int AreaPerPerson() {
        return Area / Occupants;
    }
}
// Використовувати значення, що повертається методом AreaPerPerson!).
class BuildingDemo
{
    static void Main()
    {
        Building house = new Building();
        Building office = new Building();
        int areaPP; // площа на одну людину
// Присвоїти значення полям в об'єкті house.
        house.Occupants = 4;
        house.Area = 2500;
        house.Floors = 2;
// Присвоїти значення полям в об'єкті office.
        office.Occupants = 25;
        office.Area = 4200;
        office.Floors = 3;
// Отримати площу на одну особу в житловому будинку.
        areaPP = house.AreaPerPerson();
        Console.WriteLine(areaPP);
    }
}
