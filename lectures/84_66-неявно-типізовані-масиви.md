---
layout: default
title: "6.6 Неявно типізовані масиви"
---

# 6.6 Неявно типізовані масиви

Як пояснювалося в розділі 2, у версії C# 3.0 з'явилася можливість оголошувати неявно типізовані змінні за допомогою ключового слова var. Це змінні, тип яких визначається компілятором, виходячи з типу ініціалізуючого виразу ня. Отже, всі неявно типізовані змінні повинні бути обов'язково ініціалізовані. Використовуючи той самий механізм, можна створити і неявно типізований масив. Зазвичай, неявно типізовані масиви призначені для застосування в певного роду викликах, що включають елементи мови LINQ. А в більшості інших випадків використовується "звичайне" оголошення масивів. Неявно типізовані масиви розглядаються тут лише для повноти уявлення про можливості мови C#.

Неявно типізований масив оголошується за допомогою ключового слова var, але без наступних квадратних дужок []. Крім того, неявно типізований масив повинен бути обов'язково ініціалізований, оскільки за типом ініціалізаторів визначається тип елементів даного масиву. Всі ініціалізатори повинні бути одного і того ж узгодженого типу. Нижче наведено приклад оголошення неявно типізованого масиву.

var vals = new[] { 1, 2, 3, 4, 5 };

У даному прикладі створюється масив типу int, що складається з п'яти елементів. Посилання на цей масив присвоюється змінній vals. Отже, тип цієї змінної відповідає типу int масиву, що складається з п'яти елементів. Зверніть увагу у те, що в лівій частині наведеного вище виразу відсутні квадратні дужки []. А в правій частині цього виразу, де відбувається ініціалізація масиву, квадратні дужки присутні. У даному контексті вони обов'язкові.

Розглянемо ще один приклад, в якому створюється двовимірний масив типу double.

var vals = new[,] { {1.1, 2.2}, {3.3, 4.4},{ 5.5, 6.6} };

У даному випадку отримується масив vals розмірами 2×3.

Оголошувати можна також неявно типізовані ступінчасті масиви. В якості прикладу розглянемо наступну програму (лістинг 6.14).

Лістинг 6.14 – Показати неявно типізований ступінчастий масив

// Показати неявно типізований ступінчастий масив.

using System;

class Jagged

{

static void Main()

{

var jagged = new[] {

new[] { 1, 2, 3, 4 },

new[] { 9, 8, 7 },

new[] { 11, 12, 13, 14, 15 }

};

for (int j = 0; j < jagged.Length; j++)

{

for (int i = 0; i < jagged[j].Length; i++)

Console.Write(jagged[j][i] + " ");

Console.WriteLine();

}

}

}

Виконання цієї програми дає наступний результат.
