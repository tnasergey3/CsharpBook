---
layout: default
title: "6.2 Багатовимірні масиви"
---

# 6.2 Багатовимірні масиви

У програмуванні найчастіше використовуються одновимірні масиви, хоча і багатовимірні не такі рідкі. Багатовимірним називається такий масив, який відрізняється двома або більше вимірами, причому доступ до кожного елементу такого масиву здійснюється за допомогою певної комбінації двох або більше індексів.

### 6.2.1 Двовимірні масиви

Найпростішою формою багатовимірного масиву є двовимірний масив. Розташування будь-якого елемента в двовимірному масиві позначається двома індексами. Такий масив можна представити у вигляді таблиці, на рядки якої вказує один індекс, а на стовпці - інший.

У наступному рядку коду оголошується двовимірний масив integer розмірами 10×20.

int[,] table = new int[10, 20];

Зверніть особливу увагу на оголошення цього масиву. Як бачите, обидва його розміри розділяються комою. У першій частині цього оголошення синтаксичне позначення [,] означає, що створюється змінна посилання на двовимірний масив. Якщо ж пам'ять розподіляється для масиву за допомогою оператора new, то використовується наступне синтаксичне позначення int[10, 20].

У даному оголошенні створюється масив розмірами 10 × 20, але і в цьому випадку його розміри розділяються комою.

Для доступу до елементу двовимірного масиву слід вказати обидва індекси, розділивши їх комою. Наприклад, у наступному рядку коду елементу масиву table з координата ми розташування (3,5) присвоюється значення 10.

table[3, 5] = 10;

Нижче наведено більш наочний приклад у вигляді невеликої програми, в якій двовимірний масив спочатку заповнюється числами від 1 до 12, а потім виводиться його зміст (лістинг 6.5).

Лістинг 6.5 – Показати двовимірний масив

// Показати двовимірний масив.

using System;

class TwoD

{

static void Main()

{

int t, i;

int[,] table = new int[3, 4];

for (t = 0; t < 3; ++t)

{

for (i = 0; i < 4; ++i)

{

table[t, i] = (t * 4) + i + 1;

Console.Write(table[t, i] + " ");

}

Console.WriteLine();

}

}

}

У даному прикладі елемент масиву table[0,0] буде мати значення 1, елемент масиву table[0,1]— значення 2, елемент масиву table[0,2]— значення 3 і т.д. А значення елемента масиву table[2,3] виявиться рівним 12. На рисунку 6.2 показано схематичне розташування елементів цього масиву та їх значень.

Рисунок 6.2 – Схематичне зображення масиву table, 
створеного в програмі TwoD

ПОРАДА. Якщо вам доводилося раніше програмувати на С, C++ або Java, то будьте особливо уважними, оголошуючи або організовуючи доступ до багатовимірних масивів в С#. У цих мовах програмування розміри масиву і індекси вказуються в окремих квадратних дужках, тоді як в C# вони розділяються комою.

### 6.2.2 Масиви трьох і більше вимірів

В C# допускаються масиви трьох і більше вимірів. Нижче наведена загальна форма оголошення багатовимірного масиву.

тип[,...,] ім'я_масиву = new тип[розмір1, розмір2, ... розмірN];

Наприклад, у наведеному нижче оголошенні створюється тривимірний цілочисельний масив розміром 4 × 10 × 3.

int[,,] multidim = new int[4, 10, 3];

А в наступному операторі елементу масиву multidim з координатами розташування (2,4,1) присвоюється значення 100.

multidim[2, 4, 1] = 100;

Нижче наведено приклад програми, в якій спочатку організується тривимірний масив, що містить матрицю значень 3 × 3 × 3, а потім значення елементів цього масиву сумуються по одній з діагоналей матриці (лістинг 6.6).

Лістинг 6.06 – Додавання значень по одній з діагоналей матриці 3 ×3×3

// Додавання значень по одній з діагоналей матриці 3×3×3.

using System;

class ThreeDMatrix

{

static void Main()

{

int[,,] m = new int[3, 3, 3];

int sum = 0;

int n = 1;

for (int x = 0; x < 3; x++)

for (int y = 0; y < 3; y++)

for (int z = 0; z < 3; z++)

m[x, y, z] = n++;

sum = m[0, 0, 0] + m[1, 1, 1] + m[2, 2, 2];

Console.WriteLine("Сума значень по першій діагоналі: " + sum);

}

}

Ось який результат дає виконання цієї програми.

Сума значень по першій діагоналі: 42

### 6.2.3 Ініціалізація багатовимірних масивів

Для ініціалізації багатовимірного масиву достатньо заключити в фігурні дужки список ініціалізаторів кожного його розміру. Нижче в якості прикладу наведена загальна форма ініціалізації двовимірного масиву:

тип[,] ім'я_масиву = {

{val, val, val, ..., val},

{val, val, val, ..., val},

{val, val, val, ..., val}

};

де val означає ініціалізуюче значення, а кожний внутрішній блок — окремий рядок. Перше значення в кожному рядку зберігається на першій позиції в масиві, друге значення — на другій позиції і т.д. Зверніть увагу на те, що блоки ініціалізаторів розділяються комами, а після завершальної цих блоків закриваючої фігурної дужки ставиться крапка з комою.

Як приклад наведено програму, в якій двовимірний масив sqrs ініціалізується числами від 1 до 10 та квадратами цих чисел (лістинг 6.7).

Лістинг 6.7 – Ініціалізація двовимірного масиву

//  Ініціалізувати двовимірний масив.

using System;

class Squares

{

static void Main()

{

int[,] sqrs = {

{ 1, 1 },

{ 2, 4 },

{ 3, 9 },

{ 4, 16 },

{ 5, 25 },

{ 6, 36 },

{ 7, 49 },

{ 8, 64 },

{ 9, 81 },

{ 10, 100 }

};

int i, j;

for (i = 0; i < 10; i++)

{

for (j = 0; j < 2; j++)

Console.Write(sqrs[i, j] + " ");

Console.WriteLine();

}

}

}

При виконанні цієї програми отримується наступний результат.
