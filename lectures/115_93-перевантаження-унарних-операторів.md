---
layout: default
title: "9.3 Перевантаження унарних операторів"
---

# 9.3 Перевантаження унарних операторів

Унарні оператори перевантажуються так само, як і бінарні. Головна відмінність полягає, звичайно, в тому, що вони мають лише один операнд. Як приклад наведено нижче метод, який перевантажує оператор унарного мінуса для класу ThreeD .

Лістинг 9.2 - Перевантажити оператор унарного мінуса.

public static ThreeD operator - (ThreeD op)

{

ThreeD result = new ThreeD ();

result.x = -op.x;

result.у = -op.у;

result.z = -op.z;

return result;

}

У цьому прикладі створюється новий об'єкт, в полях якого зберігаються від'ємні значення операнда перевантажуваного унарного оператора, після чого цей об'єкт повертається операторним методом. Зверніть увагу на те, що сам операнд не змінюється. Це означає, що і в даному випадку зберігається звичайне призначення оператора унарного мінуса. Наприклад, результатом виразу а = -b є від'ємне значення операнда b, але сам операнд bне змінюється. У C# перевантаження операторів ++ і -- здійснюється досить просто. Для цього достатньо повернути інкрементоване або декрементоване значення, але не змінювати викликаючий об'єкт. А все інше візьме на себе компілятор C#, роз розрізняючи префіксні і постфіксні форми цих операторів. Як приклад нижче наведено операторний методoperator++()для класу ThreeD.

Лістинг 9.3 - Перевантажити унарний оператор ++.

public static ThreeD operator ++(ThreeD op)

{

ThreeD result = new ThreeD();

// Повернути результат інкрементування.

result.x = op.x + 1;

result.у = op.у + 1;

result.z = op.z + 1;

return result;

}
