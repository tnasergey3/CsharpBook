---
layout: default
title: "11.13 Клас object"
---

# 11.13 Клас object

У C# передбачений спеціальний клас object , який неявно вважається базовим класом для всіх інших класів і типів, включаючи типи значень. Іншими словами, всі інші типи є похідними від object . Це, зокрема, означає, що змінна посилального типу object може посилатися на об'єкт будь-якого іншого типу. Крім того, змінна типу object може посилатися на будь-який масив, оскільки в C# масиви реалізуються як об'єкти. Формально ім'я object вважається ще одним позначенням класу System.Object , який входить до бібліотеки класів для середовища .NET Framework.

Деякі з цих методів потребують додаткових пояснень. За замовчуванням метод Equals(object) визначає, чи посилається викликаючий об'єкт на той самий об'єкт , що й об'єкт, вказаний як аргумент цього методу, тобто він визначає, чи є обидва посилання однаковими. Метод Equals(object) повертає логічне значення true , якщо порівнювані об'єкти однакові, в іншому випадку - логічне значення false . Він також може бути перевизначений у створюваних класах. Це дозволяє з'ясувати, що означає рівність об'єктів для створюваного класу. Наприклад, метод Equals( object) можна визначити таким чином, щоб в ньому порівнювалось вміст двох об' єктів.

Рисунок 11.2 - методи класу Object

Метод GetHashCode() повертає хеш-код, пов'язаний з викликаючим об'єктом. Цей хеш-код можна потім використовувати в будь-якому алгоритмі, де хешування застосовується як засіб доступу до збережених об'єктів. Слід, однак, мати на увазі, що стандартна реалізація методу GetHashCode() не підходить для всіх випадків застосування. Як зазначалося в розділі 9, якщо перевантажується оператор == , то зазвичай потрібно перевизначити методи Equals(object) і GetHashCode() , оскільки найчастіше потрібно, щоб метод Equals(object) і оператор == працювали однаково. Коли ж перевизначається метод Equals(object) , то слід перевизначити і метод GetHashCode() , щоб обидва методи були сумісними. Метод ToString() повертає символьний рядок , що містить опис того об'єкта, для якого він викликається. Крім того, метод ToString() автоматично викликається при виведенні вмісту об'єкта за допомогою методу WriteLine(). Цей метод перевизначається в багатьох класах, що дозволяє пристосовувати опис до конкретних типів об'єктів, створених в цих класах. Нижче наведено приклад застосування цього методу.

Лістинг 11.20 - Приклад ToString().

class MyClass

{

static int count = 0;

int id;

public MyClass() {

id = count;

count++;

}

public override string ToString()

{

return "Об'єкт #" + id + " типу MyClass";

}

}

class Test

{

static void Main()

{

MyClass ob1 = new MyClass();

MyClass ob2 = new MyClass();

MyClass ob3 = new MyClass();

Console.WriteLine(obi);

Console.WriteLine(ob2);

Console.WriteLine(ob3);

}

}
