---
layout: default
title: "10.2 Перевантаження індексаторів"
---

# 10.2 Перевантаження індексаторів

Індексатор може бути перевантажений. У цьому випадку для виконання вибирається той варіант індексатора, в якому точніше дотримується відповідність його параметра і аргумента, вказуваного як індекс. Нижче наведено приклад програми, в якій індексатор масиву класу FailSoftArray перевантажується для індексів типу double . При цьому індексатор типу double округлює свій індекс до найближчого цілого значення.

Лістинг 10.4 - Це індексатор типу int для масиву FailSoftArray.

public int this[int index] {

// Це аксесор get.

get {

if(ok(index)) {

ErrFlag = false;

return a[index];

} else {

ErrFlag = true;

return 0;

}

}

// Це аксесор set.

set {

if(ok(index)) {

a[index] = value;

ErrFlag = false;

}

else ErrFlag = true;

}

}

Лістинг 10.5 - Це ще один індексатор для масиву FailSoftArray. Він округлює свій аргумент до найближчого цілого індексу.

public int this[double idx] {

// Це аксесор get.

get {

int index;

// Округлити до найближчого цілого.

if( (idx - (int) idx) < 0.5) index = (int) idx;

else index = (int) idx + 1;

if(ok(index)) {

ErrFlag = false;

return a[index];

} else {

ErrFlag = true;

return 0;

}

}

// Це аксесор set.

set {

int index;

// Округлити до найближчого цілого.

if( (idx - (int) idx) < 0.5) index = (int) idx;

else index = (int) idx + 1;

if(ok(index)) {

a[index] = value;

ErrFlag = false;

}

else ErrFlag = true;

}

}

Представлений вище приклад програми наочно демонструє доцільність перевантаження індексаторів, але на практиці воно застосовується рідко. Зазвичай, індексатори перевантажуються для того, щоб використовувати об'єкт певного класу в якості індексу, обчисленого якимось особливим способом.
