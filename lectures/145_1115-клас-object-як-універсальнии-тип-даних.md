---
layout: default
title: "11.15 Клас object як універсальний тип даних"
---

# 11.15 Клас object як універсальний тип даних

Якщо object є базовим класом для всіх інших типів і упаковка значень простих типів відбувається автоматично, то клас object можна повністю використовувати як " універсальний " тип даних. Для прикладу розглянемо програму, в якій спочатку створюється масив типу object , елементам якого потім присвоюються значення різних типів даних.

Лістинг 11.23 - Використовувати клас object для створення масиву "загального" типу.

class GenericDemo

{

static void Main()

{

object[] ga = new object[10];

// Зберегти цілі значення.

for (int i = 0; i < 3; i++)

ga[i] = i;

// Зберегти значення типу double.

for (int i = 3; i < 6; i++)

ga[i] = (double)i / 2;

// Зберегти два рядки, а також значення типу bool і char.

ga[6] = "Привіт";

ga[7] = true;

ga[8] = 'X';

ga[9] = "Кінець";

for (int i = 0; i < ga.Length; i++)

Console.WriteLine("ga[" + i + "]: " + ga[i] + " ");

}

}

до даних будь-якого типу, оскільки в змінній посилального типу object допускається зберігати посилання на дані всіх інших типів.

Отже, в масиві типу object з розглянутого тут прикладу можна зберегти дані практично будь-якого типу. У розвиток цієї ідеї можна було б, наприклад, без особливих зусиль створити клас стеку з посиланнями на об'єкти класу object . Це дозволило б зберігати в стеці дані будь-якого типу.

Незважаючи на те, що універсальний характер класу object може бути досить ефективно використаний у деяких ситуаціях, було б помилкою думати, що за допомогою цього класу варто намагатися обійти строго дотримуваний в C# контроль типів. Загалом кажучи, ціле значення слід зберігати в змінній типу int , рядок — в змінній посилального типу string і т.д. І найголовніше, що починаючи з версії 2.0 для програмування на C# стали до ступними справжньо узагальнені типи даних — узагальнення (докладніше вони розглядаються в розділі 18). Впровадження узагальнень дозволило без зусиль визначати класи та алгоритми, автоматично обробляючи дані різних типів, дотримуючись типової безпеки. Завдяки узагальненням відпала необхідність користуватися класом object як універсальним типом даних при створенні нового коду. Універсальний характер цього класу краще залишити для застосування в особливих випадках.
