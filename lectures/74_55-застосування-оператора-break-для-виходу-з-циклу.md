---
layout: default
title: "5.5 Застосування оператора break для виходу з циклу"
---

# 5.5 Застосування оператора break для виходу з циклу

За допомогою оператора break можна спеціально організувати негайний вихід з циклу, обходячи будь-який код, що залишився в тілі циклу, а також оминаючи перевірку умови циклу. Коли в тілі циклу зустрічається оператор break, цикл завершується, а виконання програми відновлюється з оператора, що йде після цього циклу. Розглянемо простий приклад програми (лістинг 5.14).

Лістинг 5.14 – Застосування оператора break для виходу з циклу

// Застосувати оператор break для виходу з циклу.

using System;

class BreakDemo

{

static void Main()

{

// Використовувати оператор break для виходу з цього циклу.

for (int i = -10; i <= 10; i++)

{

if (i > 0) break; //  завершити цикл, як тільки значення

//  змінної i стане позитивним

Console.Write(i + " ");

}

Console.WriteLine("Готово!");

}

}

Виконання цієї програми дає наступний результат.

-10  -9  -8  -7  -6  -5  -4  -3  -2  -1  0  Готово!

Як бачите, цикл for організований для виконання в межах від -10 до 10, але, не дивлячись на це, оператор break перериває його раніше, коли значення змінної i становиться позитивним.

Оператор break можна застосовувати в будь-якому циклі, передбаченому в С#. В якості прикладу нижче наведена версія попередньої програми, перероблена з метою використання циклу do-while (лістинг 5.15).

Лістинг 5.15 – Застосування оператора break для виходу з циклу do-while

// Застосувати оператор break для виходу з циклу do-while.

using System;

class BreakDemo2

{

static void Main()

{

int i;

i = -10;

do

{

if (i > 0) break;

Console.Write(i + " ");

i++;

} while (i <= 10);

Console.WriteLine("Готово!");

}

}

А тепер розглянемо більш практичний приклад застосування оператора break. У наведеній нижче програмі виявляється найменший множник числа (лістинг 5.16).

Лістинг 5.16 – Виявлення найменшого множника числа

// Виявити найменший множник числа.

using System;

class FindSmallestFactor

{

static void Main()

{

int factor = 1;

int num = 1000;

for (int i = 2; i <= num / i; i++)

{

if ((num % i) == 0)

{

factor = i;

break; // перервати цикл, як тільки буде

// виявлений найменший множник числа

}

}

Console.WriteLine("Найменший множник дорівнює " + factor);

}

}

Результат виконання цієї програми виглядає наступним чином.

Найменший множник дорівнює 2

Оператор break перериває виконання циклу for, як тільки буде виявлений найменший множник числа. Завдяки такому застосуванню оператора break виключається перевірка будь-яких інших значень після виявлення найменшого множника числа, а отже, і неефективне виконання коду.

Якщо оператор break застосовується в цілому ряді вкладених циклів, то він перериває виконання тільки найвнутрішнього циклу. Як приклад розглянемо наступну програму (лістинг 5.17).

Лістинг 5.17 – Застосування оператора break у вкладених циклах

// Застосувати оператор break у вкладених циклах.

using System;

class BreakNested

{

static void Main()

{

for (int i = 0; i < 3; i++)

{

Console.WriteLine("Підрахунок у зовнішньому циклі: " + i);

Console.Write(" Підрахунок у внутрішньому циклі: ");

int t = 0;

while (t < 100)

{

if (t == 10) break; // перервати цикл, якщо t дорівнює 10

Console.Write(t + " ");

t++;

}

Console.WriteLine();

}

Console.WriteLine("Цикли завершено.");

}

}

Виконання цієї програми дає наступний результат.

Підрахунок у зовнішньому циклі: 0

Підрахунок у внутрішньому циклі: 0 1 2 3 4 5 6 7 8 9

Підрахунок у зовнішньому циклі: 1

Підрахунок у внутрішньому циклі: 0 1 2 3 4 5 6 1 8 9

Підрахунок у зовнішньому циклі: 2

Підрахунок у внутрішньому циклі: 0 1 2 3 4 5 6 1 8 9

Цикли завершено.

Як бачите, оператор break з внутрішнього циклу викликає переривання тільки цього циклу, а на виконання зовнішнього циклу він не має жодного впливу.

Щодо оператора break також слід мати на увазі наступне. По-перше, в тілі циклу може бути кілька операторів break, але застосовувати їх слід дуже обережно, оскільки надмірна кількість операторів break зазвичай призводить до порушення нормальної структури коду. І по-друге, оператор break, що виконує вихід з оператора switch, впливає тільки на цей оператор, але не на охоплюючі його цикли.
