---
layout: default
title: "13.11 Застосування ключових слів checked та unchecked"
---

# 13.11 Застосування ключових слів checked та unchecked

У C# є спеціальний засіб, пов'язаний з генерацією винятків, що виникають при переповненні в арифметичних обчисленнях. Як вам має бути відомо, результати деяких видів арифметичних обчислень можуть перевищувати діапазон представлення чисел для типу даних, що використовується в обчисленні. У цьому випадку відбувається так зване переповнення. Розглянемо як при клад наступний фрагмент коду.

У C# допускається вказувати, чи буде в коді згенеровано виняток при переповненні, за допомогою ключових слів checked і unchecked . Так, якщо потрібно вказати, що вираз буде перевірятися на переповнення, слід використовувати ключове слово checked , а якщо потрібно проігнорувати переповнення - ключове слово unchecked . У останньому випадку результат обрізається, щоб не вийти за межі діапазону представлення чисел для цільового типу виразу. У ключового слова checked є дві загальні форми. У одній формі перевіряється конкретний вираз, тому вона називається операторною. У іншій формі перевіряється блок операторів, тому вона називається блочною. Нижче наведені обидві форми:

checked (вираз)

checked { // перевіряються оператори }

де вираз означає перевіряючий вираз. Якщо обчислення перевіряючого виразу призводить до переповнення, то генерується виняток OverflowException . У ключового слова unchecked також є дві загальні форми. У першій, операторній формі переповнення ігнорується при обчисленні конкретного виразу. У другій, блочній формі вона ігнорується при виконанні блоку операторів:

unchecked (вираз )

unchecked { // оператори, для яких переповнення ігнорується }

де вираз означає конкретний вираз, при обчисленні якого переповнення ігнорується . Якщо в неперевіреному виразі відбувається переповнення, то результат його обчислення обрізається.

Лістинг 13.15 - Демонстрація застосування ключових слів checked і unchecked

class CheckedDemo

{

static void Main()

{

byte a, b;

byte result;

a = 127;

b = 127;

try

{

result = unchecked((byte)(a * b));

Console.WriteLine("Неперевірений на переповнення результат: " +

result);

result = checked((byte)(a * b)); // ця операція призводить до

// виключної ситуації

Console.WriteLine("Перевірений на переповнення результат: " +

result); //не підлягає виконанню

}

catch (OverflowException exc)

{

Console.WriteLine(exc);

}

}

}
