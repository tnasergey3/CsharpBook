---
layout: default
title: "13.6 Вкладення блоків try"
---

# 13.6 Вкладення блоків try

Один блок try може бути вкладений в інший. Виняток, генерований у внутрішньому блоку try і не перехоплений у відповідному блоку catch, передається у зовнішній блок try. Нижче наведено приклад програми, в якій виняток IndexOutOfRangeException перехоплюється не у внутрішньому, а у зовнішньому блоку try.

Лістинг 13.9 - Використовувати вкладений блок try.

using System;

class NestTrys

{

static void Main()

{

// Тут масив numer довший за масив denom.

int[] numer = { 4, 8, 16, 32, 64, 128, 256, 512 };

int[] denom = {2, 0, 4, 4, 0, 8};

try

{ // зовнішній блок try

for (int i = 0; i < numer.Length; i++)

{

try

{ // вкладений блок try

Console.WriteLine(numer[i] + " / " +

denom[i] + " дорівнює " +

numer[i] / denom[i]);

}

catch (DivideByZeroException)

{

Console.WriteLine("Ділити на нуль не можна!");

}

}

}

catch (IndexOutOfRangeException)

{

Console.WriteLine("Підходящий елемент не знайдено.");

Console.WriteLine("Незворотна помилка  програма перервана.");

}

}

}

У даному прикладі виняток, який обробляється внутрішнім блоком try і пов'язаний з помилкою через ділення на нуль, не заважає подальшому виконанню програми. Але помилка в порушенні меж масиву, виявлена в зовнішньому блоку try, призводить до переривання програми. Безумовно, наведений вище приклад демонструє далеко не єдине підставу для застосування вкладених блоків try , проте з нього можна зробити важливий загальний висновок.

Вкладені блоки try часто застосовуються для обробки різних категорій помилок різними способами. Зокрема, деякі помилки вважаються незворотними і не підлягають виправленню, а інші помилки незначні і можуть бути оброблені негайно. Зазвичай, зовнішній блок try служить для виявлення обробки найсерйозніших помилок, а внутрішні блоки try обробляються менш серйозні помилки. Крім того, зовнішній блок try може стати " універсальним " для тих помилок, які не підлягають обробці внутрішнім блоком.
