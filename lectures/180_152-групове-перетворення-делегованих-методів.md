---
layout: default
title: "15.2 Групове перетворення делегованих методів"
---

# 15.2 Групове перетворення делегованих методів

Ще в версії C# 2.0 було впроваджено спеціальний засіб, значно спрощую чий синтаксис присвоєння методу делегату. Це так зване групове перетворення методів , що дозволяє присвоїти ім'я методу делегату, не вдаючись до оператора new або явного виклику конструктора делегата. Нижче наведений метод Main() з попереднього прикладу, змінений з метою продемонструвати групове перетворення методів.

Лістинг 15.2 - групове перетворення методів.

static void Main()

{

// Сконструювати делегат, використовуючи групове перетворення методів.

StrMod strOp = ReplaceSpaces; // використовувати групове перетворення методів

string str;

// Викликати методи за допомогою делегата,

str = strOp("Це простий тест.");

Console.WriteLine("Результуючий рядок: " + str);

Console.WriteLine();

strOp = RemoveSpaces; // використовувати групове перетворення методів

str = strOp("Це простий тест.");

Console.WriteLine("Результуючий рядок: " + str);

Console.WriteLine();

strOp = Reverse; // використовувати групове перетворення методів

str = strOp("Це простий тест.");

Console.WriteLine("Результуючий рядок: " + str);

Console.WriteLine();

}

Зверніть особливу увагу на те, як створюється екземпляр делегата strOp і як йому присвоюється методReplaceSpaces у наступному рядку коду. strOp = RemoveSpaces; // використовувати групове перетворення методів У цьому коді ім'я методу присвоюється безпосередньо екземпляру делегата strOp , а всі операції з автоматичним перетворенням методу в тип делегата "покладаються" на засоби C#. Цей синтаксис може бути застосований до будь-якої ситуації, в якій метод присвоюється або перетворюється в тип делегата. Синтаксис групового перетворення методів суттєво спрощений у порівнянні з попереднім підходом до делегування, тому в решті книги використовується саме він.

У попередніх прикладах було наочно продемонстровано внутрішній механізм дії делегатів, але ці приклади не показують їх справжнє призначення. Як правило, делегати використовуються з двох причин. По-перше, як зазначалося раніше у цьому розділі, делегати підтримують події. І по-друге, делегати дозволяють ви кликати методи під час виконання програми, не знаючи про них нічого конкретно го під час компіляції. Це дуже зручно для створення базової конструкції, що допу скає підключення окремих програмних компонентів. Розглянемо як приклад графічну програму, аналогічну стандартній сервісній програмі Windows Paint. За допомогою делегата можна надати користувачу можливість підключати спеціальні кольорові фільтри або аналізатори зображень. Крім того, користувач може складати з цих фільтрів або аналізаторів цілі по слідовності. Подібні можливості програми нескладно забезпечити, використовуючи делегати.
