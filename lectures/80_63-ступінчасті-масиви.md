---
layout: default
title: "6.3 Ступінчасті масиви"
---

# 6.3 Ступінчасті масиви

У наведених вище прикладах використання двовимірного масиву, по суті, створювався так званий прямокутний масив. Двовимірний масив можна уявити у вигляді таблиці, в якій довжина кожного рядка залишається незмінною по всьому масиву. Але в C# також можна створювати спеціальний тип двовимірного масиву, який називається ступінчастим масивом. Ступінчастий масив представляє собою масив масивів, в якому довжина кожного масиву може бути різною. Отже, ступінчастий масив може бути використаний для складання таблиці з рядків різної довжини.

Ступінчасті масиви оголошуються за допомогою ряду квадратних дужок, в яких вказується їх розмірність. Наприклад, для оголошення двовимірного ступінчастого масиву слугує наступна загальна форма:

тип[][] ім'я_масиву = new тип[розмір][];

де розмір означає кількість рядків у масиві. Пам'ять для самих рядків розподіляється індивідуально, тому довжина рядків може бути різною. Наприклад, у наведеному нижче фрагменті коду оголошується ступінчастий масив jagged. Пам'ять спочатку роз поділяється для його першого виміру автоматично, а потім для другого виміру вручну.

int[][] jagged = new int[3][];

jagged[0] = new int[4];

jagged[1] = new int[3];

jagged[2] = new int[5];

Після виконання цього фрагмента коду масив jagged виглядає так, як показано на рисунку 6.3.

Рисунок 6.3 – Масив jagged

Тепер нескладно зрозуміти, чому такі масиви називаються ступінчастими. Після створення ступінчастого масиву доступ до його елементів здійснюється за індексом, вказаним у окремих квадратних дужках. Наприклад, у наступному рядку коду елементу масиву jagged, що знаходиться на позиції з координатами (2,1), присвоюється значення 10.

jagged[2][1] = 10;

Зверніть увагу на синтаксичні відмінності в доступі до елементу ступінчастого і прямокутного масиву.

У наведеному нижче прикладі програми демонструється створення двовимірного ступінчастого масиву (лістинг 6.8).

Лістинг 6.8 – Створення ступінчастого масиву

// Продемонструвати застосування ступінчастих масивів.

using System;

class Jagged

{

static void Main()

{

int[][] jagged = new int[3][];

jagged[0] = new int[4];

jagged[1] = new int[3];

jagged[2] = new int[5];

int i;

//Зберегти значення в першому масиві.

for (i = 0; i < 4; i++)

jagged[0][i] = i;

//Зберегти значення в другому масиві.

for (i = 0; i < 3; i++)

jagged[1][i] = i;

//Зберегти значення в третьому масиві.

for (i = 0; i < 5; i++)

jagged[2][i] = i;

//Вивести значення з першого масиву.

for (i = 0; i < 4; i++)

Console.Write(jagged[0][i] + " ");

Console.WriteLine();

//Вивести значення з другого масиву.

for (i = 0; i < 3; i++)

Console.Write(jagged[1][i] + " ");

Console.WriteLine();

//Вивести значення з третього масиву.

for (i = 0; i < 5; i++)

Console.Write(jagged[2][i] + " ");

Console.WriteLine();

}

}

Виконання цієї програми призводить до наступного результату.
