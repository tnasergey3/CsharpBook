---
layout: default
title: "7.3 Змінні посилального типу та присвоєння"
---

# 7.3 Змінні посилального типу та присвоєння

У операції присвоєння змінні посилального типу діють інакше, ніж змінні значення, наприклад типу int . Коли одна змінна значення присвоюється іншій, ситуація виявляється досить простою. Змінна, що знаходиться у лівій частині оператора присвоєння, отримує копію значення змінної, що знаходиться у правій частині цього оператора. Коли ж одна змінна посилання на об'єкт присвоюється іншій, то ситуація трохи ускладнюється, оскільки таке присвоєння призводить до того, що змінна, що знаходиться у лівій частині оператора присвоєння, посилається на той самий об'єкт, на який посилається змінна, що знаходиться у правій частині цього оператора. Сам об'єкт не копіюється. У зв'язку з цією відмінністю присвоєння змінних посилального

типу може призвести до кількох неочікуваних результатів. Як приклад розглянемо наступний фрагмент коду.

Лістинг 7.7 - Приклад зміни посилань

Building house1 = new Building();

Building house2 = house1;

house1.Area = 2600;

Console.WriteLine(house1.Area);

Console.WriteLine(house2.Area);

Building house1 = new Building();

Building house2 = house1;

Building house3 = new Building();

house2 = house3; // тепер обидві змінні, house2 і house3,

// посилаються на один і той самий об'єкт.

На перший погляд, змінні house1 і house2 вказують на абсолютно різні об'єкти але насправді це не так. Змінні house1 і house2 , навпаки, вказують на один і той самий об'єкт. Коли змінна house1 присвоюється змінній house2 , то в кінцевому рахунку змінна house2 просто вказує на той самий об'єкт, що й змінна house1.Отже, цим об'єктом можна оперувати за допомогою змінної house1 або house2 .

Незважаючи на те, що обидві змінні, house1і house2, посилаються на один і той самий об'єкт, вони ніяк інакше не пов'язані одна з одною. Наприклад, в результаті наступної послідовності операцій присвоєння просто змінюється об'єкт, на який посилається змінна house2.

Після виконання цієї послідовності операцій присвоєння змінна house2 посилається на той самий об'єкт, що і змінна house3 . А посилання на об'єкт у змінній house1 не змінюється.
