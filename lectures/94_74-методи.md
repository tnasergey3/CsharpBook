---
layout: default
title: "7.4 Методи"
---

# 7.4 Методи

Як пояснювалося вище, змінні екземпляра і методи є двома основними складовими класів. До цього часу клас Building , розглянутий тут як приклад, містив лише дані, але не методи. Хоча класи, що містять лише дані, є допустимими, більшість класів також повинні мати методи. Методи представляють собою підпрограми, які маніпулюють даними, визначеними ми в класі, а в багатьох випадках вони надають доступ до цих даних. Зазвичай, інші частини програми взаємодіють з класом за допомогою його методів.

Метод складається з одного або кількох операторів. У грамотно написаному коді C# кожен метод виконує лише одну функцію. У кожного методу є своє ім'я, за якимйого викликають. Загалом, методу можна присвоїти як ім'я будь-який дійсний ідентифікатор. Слід, однак, мати на увазі, що ідентифікатор Main() зарезервованийдля методу, з якого починається виконання програми. Крім того, як імена методівне можна використовувати ключові слова С#.

Методи називаються відповідно до умовних позначень, прийнятих в літературі по С#. Зокрема, після імені методу йдуть круглі дужки.

Так, якщо методу присвоєно ім'я GetVal , то в тексті він згадується у наступному вигляді: GetVal() . Така форма запису допомагає відрізнити імена методів від імен змінних. Нижче наведено загальна форма визначення методу:

доступ повертаємий_тип ім'я(список_параметрів) {

// тіло методу

}

де доступ — це модифікатор доступу, що визначає ті частини програми, з яких

може бути викликаний метод. Як пояснювалося вище, вказувати модифікатор доступу необов'язково. Але якщо його немає, то метод виявляється закритим ( private ) в межах того класу, в якому він оголошується. Ми поки що оголошуватимемо методи відкритими ( public ), щоб викликати їх з будь-якої іншої частини коду в програмі. Потім повертаємий_тип означає тип даних, що повертаються методом. Цей тип повинен бути дійсним, включаючи тип створюваного класу.

Якщо метод не повертає значення, то як повертаєме для нього слід вказати тип void . Далі ім'я означає конкретне ім'я, що присвоюється методу. В якості імені методу може служити будь-який допустимий ідентифікатор, що не призводить до конфліктів в поточній області оголошень. І нарешті, список_параметрів — це послідовність пар, з існуючих з типу і ідентифікатора і розділених комами. Параметри представляють собою змінні, що отримують значення аргументів, переданих методу при його виклику. Якщо у метода відсутні параметри, то список параметрів виявляється порожнім.

Як пояснювалося вище, методи класу, як правило, маніпулюють даними класу інадають до них доступ. З урахуванням цього нагадаємо, що в наведених вище прикладах у методі Main() обчислювалась площа на одну людину шляхом ділення загальної площі будівлі на кількість мешканців. І хоча такий спосіб формально вважається правильним, насправді він виявляється далеко не найкращим для організації подібного обчислення. Площа на одну людину найкраще обчислювати в самому класі Building , просто тому, що так легше зрозуміти сам характер обчислен ня. Адже площа на одну людину залежить від значень у полях Area і Occupants , інкапсульованих в класі Building . Отже, дане обчислення може бути повністю здійснене в самому класі Building . Крім того, вводячи обчислення площі на одну людину в клас Building , ми тим самим звільняємо всі програм ми, що користуються класом Building , від необхідності виконувати це обчислення самостійно. Завдяки цьому уникнуто непотрібного дублювання коду. І нарешті, додавання в клас Building методу, що обчислює площу на одну людину, сприяє поліпшенню його об'єктно-орієнтованої структури, оскільки вели чини, безпосередньо пов'язані з будівлею, інкапсулюються в класі Building. Щоб додати метод до класу Building , достатньо вказати його в області оголошень у даному класі. Як приклад нижче наведено перероблену версію класу Building, що містить метод AreaPerPerson() який виводить площу, розраховану на одну людину в конкретній будівлі.

Лістинг 7.8 - Приклад додавання метода до класу Building

using System;
class Building
{
  public int Floors; // кількість поверхів
  public int Area; // загальна площа будівлі
  public int Occupants; // кількість мешканців
                        // Вивести площу на одну людину,
  public void AreaPerPerson()
  {
    Console.WriteLine(" " + Area / Occupants +
    " припадає на одну людину");
  }
}

// Використовувати метод AreaPerPerson().
class BuildingDemo
{
  static void Main()
  {
    Building house = new Building();
    Building office = new Building();
    // Присвоїти значення полям в об'єкті house.
    house.Occupants = 4;
    house.Area = 2500;
    house.Floors = 2;
    // Присвоїти значення полям в об'єкті office.
    office.Occupants = 25;
    office.Area = 4200;
    office.Floors = 3;
    Console.WriteLine("Дім має: " +
      house.Floors + " поверхів " + house.Occupants + " мешканця " + house.Area +
    "кrвe.a ф+утів загальної площі, з них");

    house.AreaPerPerson();

    Console.WriteLine();
    Console.WriteLine("Установа має: " +
      office.Floors + " поверхів " +
      office.Occupants + " працівників " +
      office.Area +
      " кв. футів загальної площі, з них");
      
   office.AreaPerPerson();
  }
}
